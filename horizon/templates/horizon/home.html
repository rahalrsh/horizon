{% extends "horizon/base.html" %}

{% block page_meta_title %}TheGameHorizon | Gaming News, Reviews and More{% endblock %}
{% block page_meta_description %}Discover the latest gaming news, reviews, guides, and game codes at TheGameHorizon. Stay updated on trending games, pro tips, and exclusive content for the ultimate gaming experience{% endblock %}

{% block page_content %}
<div class="container mx-auto px-4 lg:px-8 mt-6 grid grid-cols-1 lg:grid-cols-3 gap-8">

    <!-- Left Sidebar (Latest News) -->
    <aside class="lg:col-span-1 order-2 lg:order-1">
        <h2 class="text-xl font-bold border-b pb-2 mb-4">The Latest</h2>
        <ul class="space-y-3">
            {% for recent_content in recent_contents %}
            <li>
                <a href="{% url 'content_detail_path_name' recent_content.type.name recent_content.slug %}" class="text-gray-900 font-medium hover:text-blue-500 transition">
                    {{ recent_content.title }}
                </a>
                <p class="text-xs text-gray-500">{{ recent_content.published_at|timesince }} ago</p>
            </li>
            {% endfor %}
        </ul>
    </aside>

    <!-- Center Content (Featured Post + Blog Posts) -->
    <main class="lg:col-span-2 order-1 lg:order-2">
        <!-- Featured Content (Home Main) -->
        {% if home_main_content %}
        <a href="{% url 'content_detail_path_name' home_main_content.0.type.name home_main_content.0.slug %}" 
           class="relative w-full h-[250px] md:h-[400px] bg-gray-900 text-white rounded-lg overflow-hidden mb-6 cursor-pointer group block">
            <!-- Background Image with Hover Zoom -->
            <img 
                src="{{ home_main_content.0.image_featured }}" 
                alt="Featured Post"
                {% if home_main_content.0.get_srcset %}srcset="{{ home_main_content.0.get_srcset }}"{% endif %}
                class="absolute inset-0 w-full h-full object-cover opacity-50 transition-transform duration-400 ease-in-out scale-100 group-hover:scale-110"
            >
            <!-- Text Overlay -->
            <div class="absolute inset-0 flex flex-col justify-center p-6">
                <h1 class="text-2xl md:text-4xl font-bold">{{ home_main_content.0.title }}</h1>
                <p class="text-md mt-2 hidden md:block">{{ home_main_content.0.description }}</p>
                <span class="mt-2 hover:underline">Read More</span>
            </div>
        </a>
        {% endif %}
        
        
        <!-- Featured Content (Home Featured) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {% for content in home_featured_contents %}
            <a href="{% url 'content_detail_path_name' content.type.name content.slug %}" 
               class="flex space-x-4 items-start rounded-lg transition duration-300 cursor-pointer block group">
                <img 
                    src="{{ content.image_featured }}" 
                    alt="{{ content.image_caption }}"
                    {% if content.get_srcset %}srcset="{{ content.get_srcset }}"{% endif %}
                    class="w-24 h-24 rounded-lg object-cover transition-transform duration-300 ease-in-out group-hover:scale-105">
                <div>
                    <h2 class="text-lg font-semibold text-gray-900 transition group-hover:text-blue-500 group-hover:underline">
                        {{ content.title }}
                    </h2>
                    <p class="text-xs text-gray-500 mt-1">
                        By {{ content.author.first_name }} {{ content.author.last_name }} â€¢ {{ content.published_at|date:"M d, Y" }}
                    </p>
                </div>
            </a>
            {% endfor %}
        </div>
        
        

    </main>

</div>
{% endblock %}
